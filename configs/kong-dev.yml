_format_version: "3.0"

services:
  - name: wajooba-api
    url: https://api.wajooba.me
    connect_timeout: 30000
    write_timeout: 30000
    read_timeout: 30000

routes:
  - name: catch-all-route
    service: wajooba-api
    paths: 
      - "/"
    methods:
      - GET
      - POST
      - PUT
      - DELETE
      - PATCH
      - OPTIONS
    strip_path: false

plugins:
  - name: rate-limiting
    config:
      minute: 100        # 100 requests per minute
      hour: 1000         # 1000 requests per hour
      policy: local      # Use local storage for now
      fault_tolerant: true
      hide_client_headers: false